[gd_scene load_steps=16 format=3 uid="uid://c7n5q231pp4my"]

[ext_resource type="Script" uid="uid://c3dj122y5qqfr" path="res://game.gd" id="1_iotsf"]
[ext_resource type="PackedScene" uid="uid://m7dkcvfrcbr6" path="res://Things/Npc/npc.tscn" id="1_vef74"]
[ext_resource type="PackedScene" uid="uid://dbn260w4htbb" path="res://Components/Pinning/pin_cushion_component.tscn" id="2_e2o6t"]
[ext_resource type="Script" uid="uid://7ffgsdsldyd3" path="res://Components/Pinning/conditional_pin_cushion.gd" id="2_feb5d"]
[ext_resource type="Script" uid="uid://cxp638bypl7h6" path="res://Components/ToolContainer/tool_container.gd" id="3_7jktm"]
[ext_resource type="Resource" uid="uid://b0ocu0gou52vi" path="res://Resources/NPCs/Rowan/Rowan.tres" id="3_iotsf"]
[ext_resource type="PackedScene" uid="uid://wbi5ufnqggf3" path="res://Components/Tool/Cup.tscn" id="4_fc0e3"]
[ext_resource type="PackedScene" uid="uid://bl8668xw877ja" path="res://Components/Tool/Pitcher.tscn" id="5_7jktm"]
[ext_resource type="PackedScene" uid="uid://x348ofyww023" path="res://Things/coffee_machine.tscn" id="6_ryrav"]
[ext_resource type="PackedScene" uid="uid://d06r8ilmgr4ck" path="res://Components/Tool/MilkCarton/milk_carton.tscn" id="7_j5wjh"]
[ext_resource type="Script" uid="uid://p8u33hgppj81" path="res://Resources/Milk.gd" id="8_vef74"]
[ext_resource type="PackedScene" uid="uid://cjpu2i37y2jag" path="res://Things/UI/Dialogue/dialogue_manager.tscn" id="11_mfdv2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mwb40"]
size = Vector2(1384, 340)

[sub_resource type="CircleShape2D" id="CircleShape2D_feb5d"]
radius = 52.469

[sub_resource type="Resource" id="Resource_hve3p"]
script = ExtResource("8_vef74")
display_name = "Regular Milk"
id = &"milk"
metadata/_custom_type_script = "uid://p8u33hgppj81"

[node name="Game" type="Node2D"]
script = ExtResource("1_iotsf")

[node name="Background" type="Node2D" parent="."]
z_index = -1
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Polygon2D" type="Polygon2D" parent="Background"]
color = Color(0.68, 0.57392, 0.5168, 1)
polygon = PackedVector2Array(-26, -24, 1185, -28, 1223, 719, -38, 666)

[node name="NpcContainer" type="Node2D" parent="."]

[node name="Npc" parent="NpcContainer" instance=ExtResource("1_vef74")]
position = Vector2(1502, 822)
data = ExtResource("3_iotsf")

[node name="Counter" type="Node2D" parent="."]

[node name="Polygon2D2" type="Polygon2D" parent="Counter"]
position = Vector2(-8, 16)
color = Color(0.45, 0.28185, 0.1845, 1)
polygon = PackedVector2Array(-72, 496, 1280, 496, 1280, 712, -72, 696)

[node name="StaticBody2D" type="StaticBody2D" parent="Counter"]
position = Vector2(0, 29)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Counter/StaticBody2D"]
position = Vector2(608, 744)
shape = SubResource("RectangleShape2D_mwb40")

[node name="CoffeeMachine" parent="." instance=ExtResource("6_ryrav")]
position = Vector2(630, 394)

[node name="PinCushionComponent" parent="." instance=ExtResource("2_e2o6t")]
position = Vector2(1068, 532)
script = ExtResource("2_feb5d")
acceptable_pin_ids = Array[StringName]([&"cup"])

[node name="Polygon2D" type="Polygon2D" parent="PinCushionComponent"]
position = Vector2(-239, -529)
color = Color(0.781407, 0.781407, 0.781407, 1)
polygon = PackedVector2Array(179, 521, 177, 541, 214, 559, 268, 563, 300, 547, 300, 523, 273, 505, 217, 506)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinCushionComponent"]
position = Vector2(2, -40)
shape = SubResource("CircleShape2D_feb5d")

[node name="ToolContainer" type="Node2D" parent="."]
script = ExtResource("3_7jktm")

[node name="Cup" parent="ToolContainer" instance=ExtResource("4_fc0e3")]
position = Vector2(115, 531)

[node name="Shaker" parent="ToolContainer" instance=ExtResource("5_7jktm")]
position = Vector2(271, 551)

[node name="MilkCarton" parent="ToolContainer" instance=ExtResource("7_j5wjh")]
position = Vector2(933, 503)
milk = SubResource("Resource_hve3p")

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="UILayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="DialogueManager" parent="UILayer/UI" instance=ExtResource("11_mfdv2")]
layout_mode = 1
